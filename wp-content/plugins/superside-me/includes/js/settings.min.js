!function(t,e,n){"use strict";var i={},o="#ssme-custom-buttons";function r(t){t.preventDefault();var n=e(o+" .button-row:last-of-type"),i=n.parent().find(".button-row").length-1,r=n.clone();return r.find("input").not(":input[type=checkbox]").val(""),r.find('[type="checkbox"]').attr("checked",!1),r.find(".icon-preview span").remove(),r.find("input").not('[type="search"]').each((function(){this.name=this.name.replace(i,i+1),this.id=this.id.replace(i,i+1)})),r.find("label").each((function(){var t=e(this).attr("for");e(this).attr("for",function(t,e){return t.replace(/(\d+)/,parseInt(e))}(t,i+1))})),r.insertAfter(n),s(),!1}function a(t){if(t.preventDefault(),!confirm(i.params.removeMessage))return!1;1===e(o+" .button-row:visible").length?(e(o+' input[type="text"]').val(""),e(o+' input[type="number"]').val(""),e(o+' input[type="checkbox"]').attr("checked",!1)):e(this).closest(".button-row").remove(),c(),s()}function c(){e(o+" .button-row").each((function(t){e(this).children().find("input").each((function(){var n=e(this).attr("name");n=n.replace(/\[(\d+)\]/,"["+t+"]"),e(this).attr("name",n).attr("id",n)}))}))}function s(){var t="show";e(o+" .button-row:visible").length>=i.params.maxButtons&&(t="hide"),e("#ssme-add-button")[t]()}i.init=function(){s(),e(o).sortable({axis:"y",containment:"parent",items:".button-row",tolerance:"pointer",stop:function(t,e){c()}}),e("#ssme-add-button").on("click",r),e(t.body).on("click",o+" .ssme-remove-button",a)},i.params="undefined"==typeof SuperSideMeSettings?"":SuperSideMeSettings,void 0!==i.params&&i.init()}(document,jQuery);